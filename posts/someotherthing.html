
<!DOCTYPE html>
<html>
<head>
<title>Solution 2</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
<style type="text/css">
body { font-family: arial, sans-serif; line-height: 1.6em; margin: 2em; }
#main { max-width: 1100px; margin-left: auto; margin-right: auto; }
p { text-align:justify; text-justify:inter-word; }
table { border-collapse:collapse; }
table, th, td { border: 1px solid #aaa; }
th, td { padding:0.3em; }
</style>
</head>
<body>


<div id="main">
<h1>Solution 2</h1>
<p><i>April 3, 2019</i></p>

<p>
Let's assume that we know the length of the jump, and it is equal to $l$. Then, in order to be back at the starting point, Sergey will need to make exactly $n \cdot k / gcd(n \cdot k, l)$ moves, where $gcd$ is the greatest common divider.
</p>

<p>
Let $l = kx + c$, where $c$ and $x$ are non-negative integers. So, if we know $a$ and $b$, than $c$ can only take $4$ values: $((a + b) \% c, (a - b) \% c, (b - a) \% c, (-a - b) \% c)$, where $\% c$ means modulo $c$. It is clear that only $x < n$ can be considered. Then we iterate over all the $4n$ variants of the pair $(x, c)$, and for each we find the number of moves to the starting point. The minimum and maximum of the resulting numbers will be the answer.
</p>

</div>

<script type='text/x-mathjax-config'>
MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    MMLorHTML: { prefer: "HTML" },
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    },
    "HTML-CSS": { availableFonts: ["TeX"] }
  });</script>

<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script type='text/javascript'>
  newContainer = document.createElement('span');
  newContainer.style.setProperty("display","none","");
  newNode = document.createElement('script');
  newNode.type = "math/tex";
  newContainer.appendChild(newNode);
  document.body.insertBefore(newContainer,document.body.firstChild);
</script>


</body>
</html>
